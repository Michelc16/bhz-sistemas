<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="email_template_bhz_rma_order" model="mail.template">
        <field name="name">Pedido de RMA - BHZ</field>
        <field name="model_id" ref="model_bhz_rma_order"/>
        <field name="subject">Pedido de RMA ${object.name}</field>

        <field name="email_from">
            ${(object.company_id.email or '')|safe}
        </field>
        <field name="email_to">
            ${(object.partner_id.email or '')|safe}
        </field>

        <field name="auto_delete" eval="True"/>

        <field name="lang">
            ${object.partner_id.lang or 'pt_BR'}
        </field>

        <field name="body_html" type="html">
            <![CDATA[
<p>Olá ${object.partner_id.name or ''},</p>

<p>Segue o pedido de RMA número <strong>${object.name}</strong>.</p>

<p>
    Produto: ${object.product_id.display_name}<br/>
    Quantidade: ${object.quantity}<br/>
    Tipo de garantia: ${dict(object._fields['warranty_type'].selection).get(object.warranty_type, '')}<br/>
    Situação: ${dict(object._fields['state'].selection).get(object.state, '')}
</p>

<p>Em anexo, o PDF do pedido de RMA.</p>

<p>Atenciosamente,<br/>
${object.company_id.name or ''}</p>
            ]]>
        </field>

        <field name="report_template" ref="bhz_rma.action_report_bhz_rma_order"/>
        <field name="report_name">RMA_${object.name}</field>
    </record>
</odoo>
``>

---

## 5️⃣ `addons/bhz_rma/report/rma_report.xml`

```xml
<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <template id="report_rma_document">
        <t t-call="web.external_layout">
            <t t-foreach="docs" t-as="doc">
                <div class="page">
                    <h2>Pedido de RMA - <span t-esc="doc.name"/></h2>

                    <p>
                        <strong>Data:</strong>
                        <span t-esc="doc.date_rma"/>
                    </p>

                    <p>
                        <strong>Empresa:</strong>
                        <span t-esc="doc.company_id.name"/>
                    </p>

                    <p>
                        <strong>Cliente:</strong>
                        <span t-esc="doc.partner_id.display_name or ''"/>
                    </p>

                    <p>
                        <strong>Tipo de garantia:</strong>
                        <span t-esc="doc.warranty_type"/>
                    </p>

                    <h3>Produto</h3>
                    <p>
                        <strong>Produto:</strong>
                        <span t-esc="doc.product_id.display_name"/><br/>
                        <strong>Quantidade:</strong>
                        <span t-esc="doc.quantity"/><br/>
                        <strong>Custo unitário:</strong>
                        <span t-esc="doc.unit_cost"/><br/>
                        <strong>Custo total (prejuízo potencial):</strong>
                        <span t-esc="doc.total_cost"/>
                    </p>

                    <h3>Locais de estoque</h3>
                    <p>
                        <strong>Local de origem:</strong>
                        <span t-esc="doc.location_id.display_name"/><br/>
                        <strong>Local de RMA:</strong>
                        <span t-esc="doc.rma_location_id.display_name"/>
                    </p>

                    <h3>Observações</h3>
                    <p t-esc="doc.note or ''"/>
                </div>
            </t>
        </t>
    </template>

    <report
        id="action_report_bhz_rma_order"
        model="bhz.rma.order"
        string="Pedido de RMA"
        report_type="qweb-pdf"
        name="bhz_rma.report_rma_document"
        file="bhz_rma.report_rma_document"
        print_report_name="'RMA - %s' % (object.name)"
    />
</odoo>
